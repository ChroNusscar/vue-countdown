/*!
 * vue-countdown v1.0.0
 * https://xkeshi.github.io/vue-countdown
 *
 * Copyright 2017-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2018-06-20T03:25:59.583Z
 */
!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):t.VueCountdown=o()}(this,function(){"use strict";var i=6e4,t=36e5;return{name:"countdown",data:function(){return{count:0,counting:!1,endTime:0}},props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3},leadingZero:{type:Boolean,default:!0},now:{type:Function,default:function(){return Date.now()}},time:{type:Number,default:0,validator:function(t){return 0<=t}},tag:{type:String,default:"span"}},computed:{days:function(){return Math.floor(this.count/864e5)},hours:function(){return Math.floor(this.count%864e5/t)},minutes:function(){return Math.floor(this.count%t/i)},seconds:function(){var t=this.interval,o=this.count%i/1e3;return t<10?parseFloat(o.toFixed(3)):10<=t&&t<100?parseFloat(o.toFixed(2)):100<=t&&t<1e3?parseFloat(o.toFixed(1)):Math.floor(o)},totalDays:function(){return this.days},totalHours:function(){return Math.floor(this.count/t)},totalMinutes:function(){return Math.floor(this.count/i)},totalSeconds:function(){var t=this.interval,o=this.count/1e3;return t<10?parseFloat(o.toFixed(3)):10<=t&&t<100?parseFloat(o.toFixed(2)):100<=t&&t<1e3?parseFloat(o.toFixed(1)):Math.floor(o)}},render:function(t){var o=this,i=function(t){return o.leadingZero&&t<10?"0"+t:t};return t(this.tag,this.$scopedSlots.default?[this.$scopedSlots.default({days:i(this.days),hours:i(this.hours),minutes:i(this.minutes),seconds:i(this.seconds),totalDays:i(this.totalDays),totalHours:i(this.totalHours),totalMinutes:i(this.totalMinutes),totalSeconds:i(this.totalSeconds)})]:this.$slots.default)},methods:{init:function(){var t=this,o=this.time;0<o&&(this.count=o,this.endTime=this.now()+o,this.autoStart&&this.$nextTick(function(){t.start()}))},start:function(){this.counting||(this.emitEvents&&this.$emit("countdownstart"),this.counting=!0,this.next())},pause:function(){this.counting&&(this.emitEvents&&this.$emit("countdownpause"),this.counting=!1,clearTimeout(this.timeout))},next:function(){this.timeout=setTimeout(this.step.bind(this),this.interval)},step:function(){this.counting&&(0<this.count?(this.count-=this.interval,this.emitEvents&&0<this.count&&this.$emit("countdownprogress",{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds}),this.next()):(this.count=0,this.stop()))},stop:function(){this.counting=!1,clearTimeout(this.timeout),this.timeout=void 0,this.emitEvents&&this.$emit("countdownend")},update:function(){this.counting&&(this.count=Math.max(0,this.endTime-this.now()))}},watch:{time:function(){this.init()}},created:function(){this.init()},mounted:function(){window.addEventListener("focus",this.onFocus=this.update.bind(this))},beforeDestroy:function(){window.removeEventListener("focus",this.onFocus),clearTimeout(this.timeout)}}});